{% extends "rentals/shared/rental.base.html.twig" %}
{% block content %}
    {{ include('rentals/includes/rental.home.slider.html.twig') }}
    <!-- <div class="block-promotion-banner">
         <div class="container">
             <div class="row">
                 <div class="col-sm-6 col-xs-6">
                     <div class="promotion-banner style-6">
                         <a href="" class="banner-img"><img src="images/home4/banner1.jpg" alt="banner1"></a>
                     </div>
                 </div>
                 <div class="col-sm-6 col-xs-6">
                     <div class="promotion-banner style-6">
                         <a href="" class="banner-img"><img src="images/home4/banner2.jpg" alt="banner2"></a>
                     </div>
                 </div>
             </div>
         </div>
     </div>-->
    <div class="block-feature-product">
        <div class="container">
            <div class="title-of-section">All Equipment Available for Rent</div>
            <div class="tab-product tab-product-fade-effect">
                <ul class="box-tabs nav-tab">
                    <li class="active"><a data-animated="" data-toggle="tab" href="#all">All Rentals </a></li>                    
                    <li><a data-animated="fadeInDownBig" data-toggle="tab" href="#promos">Promotions</a></li>
                    <li><a data-animated="zoomInUp" data-toggle="tab" href="#deals">Weekly Deals</a></li>
                </ul>
                <div class="tab-content">
                    <div class="tab-container">
                        <div id="all" class="tab-panel active">
                            <div class="owl-carousel nav-style2 border-background equal-container" data-nav="true" data-autoplay="false" data-dots="false" data-loop="true" data-margin="0" data-responsive='{"0":{"items":1},"480":{"items":2},"600":{"items":3},"1000":{"items":5}}'>
                                {% for  ad in rentalAds %} 
                                    <div class="product-item style1">
                                        <div class="product-inner equal-elem">
                                            <div class="product-thumb">
                                                <div class="thumb-inner">
                                                    <a href="{{path('rental_filter', {'slug':ad.slug})}}">
                                                        <img src="{{ad.featureImage is not null ? asset(ad.featureImage|imagine_filter('hub_thumbnail')) : 
                            ad.equipment.featureImage is not null  ? asset(ad.equipment.featureImage|imagine_filter('hub_thumbnail'))}}" style="height: 140px; margin: auto; border-radius: 3px;"/>
                                                    </a>
                                                </div>
                                                <a href="" class="quick-view">Quick View</a>
                                            </div>
                                            <div class="product-innfo">
                                                <div class="product-name"><a href="{{path('rental_filter', {'slug':ad.slug})}}">{{ad.title}}</a></div>
                                                <span class="price price-dark">
                                                    Rate: <ins>GH¢{{ad.rentalRate|number_format(2,'.', ',')}}</ins> <small><span class="text-danger">{{ad.billingCycle}}</span></small>
                                                </span>
                                                <span class="star-rating">
                                                    <i class="fa fa-map-marker" aria-hidden="true"></i> {{ad.company.region}}                                                                                                  
                                                </span>
                                                <span class="star-rating">
                                                    <a href="{{path('rental_firm_view', {'slug':ad.company.slug})}}"> <i class="fa fa-industry" aria-hidden="true"></i> {{ad.company}} </a>                                                                                               
                                                </span>
                                                <div class="group-btn-hover">
                                                    <div class="inner">                                                        
                                                        <a href="{{path('place_rental_request', {'slug':ad.slug})}}" class="add-to-cart">Hire This Equipment</a>                                                      
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                {% endfor %}
                            </div>
                        </div>                        
                        <div id="promos" class="tab-panel">
                            <div class="owl-carousel nav-style2 border-background equal-container" data-nav="true" data-autoplay="false" data-dots="false" data-loop="true" data-margin="0" data-responsive='{"0":{"items":1},"480":{"items":2},"600":{"items":3},"1000":{"items":5}}'>
                                {% for  ad in rentalAds if ad.isPromoted %} 
                                    <div class="product-item style1">
                                        <div class="product-item style1">
                                            <div class="product-inner equal-elem">
                                                <div class="product-thumb">
                                                    <div class="thumb-inner">
                                                        <a href="{{path('rental_filter', {'slug':ad.slug})}}">
                                                            <img src="{{ad.featureImage is not null ? asset(ad.featureImage|imagine_filter('hub_thumbnail')) : 
                            ad.equipment.featureImage is not null  ? asset(ad.equipment.featureImage|imagine_filter('hub_thumbnail'))}}" style="height: 140px; margin: auto; border-radius: 3px;"/>
                                                        </a>
                                                    </div>
                                                    <a href="" class="quick-view">Quick View</a>
                                                </div>
                                                <div class="product-innfo">
                                                    <div class="product-name"><a href="{{path('rental_filter', {'slug':ad.slug})}}">{{ad.title}}</a></div>
                                                    <span class="price price-dark">
                                                        Rate: <ins>GH¢{{ad.rentalRate|number_format(2,'.', ',')}}</ins> <small><span class="text-danger">{{ad.billingCycle}}</span></small>
                                                    </span>
                                                    <span class="star-rating">
                                                        <i class="fa fa-map-marker" aria-hidden="true"></i> {{ad.company.region}}                                                                                                  
                                                    </span>
                                                    <span class="star-rating">
                                                        <a href="{{path('rental_firm_view', {'slug':ad.company.slug})}}"> <i class="fa fa-industry" aria-hidden="true"></i> {{ad.company}}   </a>                                                                                             
                                                    </span>
                                                    <div class="group-btn-hover">
                                                        <div class="inner">                                                        
                                                            <a href="{{path('place_rental_request', {'slug':ad.slug})}}" class="add-to-cart">Hire This Equipment</a>                                                      
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                {% endfor %}                               
                            </div>
                        </div>                        
                        <div id="deals" class="tab-panel">
                            <div class="owl-carousel nav-style2 border-background equal-container" data-nav="true" data-autoplay="false" data-dots="false" data-loop="true" data-margin="0" data-responsive='{"0":{"items":1},"480":{"items":2},"600":{"items":3},"1000":{"items":5}}'>
                                {% for  ad in rentalAds %} 
                                    <div class="product-item style1">
                                        <div class="product-inner equal-elem">
                                            <div class="product-thumb">
                                                <div class="thumb-inner">
                                                    <a href="{{path('rental_filter', {'slug':ad.slug})}}">
                                                        <img src="{{ad.featureImage is not null ? asset(ad.featureImage|imagine_filter('hub_thumbnail')) : 
                            ad.equipment.featureImage is not null  ? asset(ad.equipment.featureImage|imagine_filter('hub_thumbnail'))}}" style="height: 140px; margin: auto; border-radius: 3px;"/>
                                                    </a>
                                                </div>
                                                <a href="" class="quick-view">Quick View</a>
                                            </div>
                                            <div class="product-innfo">
                                                <div class="product-name"><a href="{{path('rental_filter', {'slug':ad.slug})}}">{{ad.title}}</a></div>
                                                <span class="price price-dark">
                                                    Rate: <ins>GH¢{{ad.rentalRate|number_format(2,'.', ',')}}</ins> <small><span class="text-danger">{{ad.billingCycle}}</span></small>
                                                </span>
                                                <span class="star-rating">
                                                    <i class="fa fa-map-marker" aria-hidden="true"></i> {{ad.company.region}}                                                                                                  
                                                </span>
                                                <span class="star-rating">
                                                    <a href="{{path('rental_firm_view', {'slug':ad.company.slug})}}"><i class="fa fa-industry" aria-hidden="true"></i> {{ad.company}} </a>                                                                                               
                                                </span>
                                                <div class="group-btn-hover">
                                                    <div class="inner">                                                        
                                                        <a href="{{path('place_rental_request', {'slug':ad.slug})}}" class="add-to-cart">Hire This Equipment</a>                                                      
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="block-bestseller-and-deals full-width">
        <div class="container">
            <div class="block-bestseller-product style2">
                <div class="title-of-section">Best Rental Deals</div>
                <div class="bestseller-and-deals-content border-background equal-container">
                    {% for deal in weeklyDeals %}
                        <div class="product-item style1 col-md-4 col-sm-6 col-xs-6 padding-0">
                            <div class="product-inner equal-elem">
                                <div class="product-thumb">
                                    <div class="thumb-inner">
                                        <a href="{{path('rental_filter', {'slug':deal.rentalAd.slug})}}">
                                            <img src="{{deal.rentalAd.featureImage is not null ? asset(deal.rentalAd.featureImage|imagine_filter('hub_thumbnail')) : 
                            deal.rentalAd.equipment.featureImage is not null  ? asset(deal.rentalAd.equipment.featureImage|imagine_filter('hub_thumbnail'))}}" style="height: 140px; margin: auto; border-radius: 3px;"/>
                                        </a>
                                    </div>
                                    <a href="{{path('rental_filter', {'slug':deal.rentalAd.slug})}}" class="quick-view">Quick View</a>
                                </div>
                                <div class="product-innfo">
                                    <div class="product-name"><a href="{{path('rental_filter', {'slug':deal.rentalAd.slug})}}">{{deal.rentalAd.title}}</a></div>
                                    <span class="price price-dark">
                                        Rate: <ins>GH¢{{deal.rentalAd.rentalRate|number_format(2,'.', ',')}}</ins> <small><span class="text-danger">{{deal.rentalAd.billingCycle}}</span></small>
                                    </span>
                                    <span class="star-rating">
                                        <i class="fa fa-map-marker" aria-hidden="true"></i> {{deal.rentalAd.company.region}}                                                                                                  
                                    </span>
                                    <span class="star-rating">
                                        <i class="fa fa-industry" aria-hidden="true"></i> {{deal.rentalAd.company}}                                                                                                
                                    </span>
                                    <div class="group-btn-hover">
                                        <div class="inner">                                                        
                                            <a href="{{path('place_rental_request', {'slug':ad.slug})}}" class="add-to-cart">Hire This Equipment</a>                                                      
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
            <div class="block-daily-deals style3">
                <div class="title-of-section">Deals Of the week</div>
                {{ render_esi(controller('App\\Controller\\RentalUtilityController:weeklyDeals'), {"default":'Loading Cart....'}) }}                                                                                                       
            </div>
        </div>
    </div>
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script>
        /**
         * 
         * Loads most viewed rentals ads asynchronously after index page loads
         */
        /** $(document).ready(function () {
         console.log('------------------Loading store home asyn content--------------------- ');
         var url = Routing.generate('async_most_popular_rentals');
         $('#popular-rentals').prepend(loaderHTML);
         $.get(url, function (data) {
         if(typeof data.response !== 'undefined'){
         $('#popular-rentals').html(data.response);
         }else{
         alert('Error Loading Data')
         }
         });
         });
         */
    </script>
{% endblock %}

